# Execution configuration for the Aerion model
# Includes all settings needed for model execution

defaults:
  - base_config
  - model: aerion
  - dataset: single_day
  - _self_

# --------------------------------------
# Overrides
# --------------------------------------

experiment_name: "aerion-debug"

trainer:
  max_epochs: 40

optimizer:
  _target_: torch.optim.AdamW
  lr: 1e-4
  weight_decay: 0.01

loss:
  weights:
    mse: 0.0
    ade: 0.5
    fde: 0.5
    alignment: 0.2
  alignment_num_waypoints: 4      # Number of final waypoints (default: 4 = 90s with 30s spacing)
  alignment_scale_factor: 10000.0  # Scale to match ADE/FDE magnitude

dataloader:
  batch_size: 3072

data_processing:
  feature_cols: ["x_coord", "y_coord", "altitude"]

scheduler:
  warmup_epochs: 5

scheduled_sampling:
  enabled: true
  teacher_forcing_epochs: 5
  transition_epochs: 10


contexts:
  flightinfo:
    enabled: false
    features:
      - rwy_x
      - rwy_y
      - rwy_bearing_sin
      - rwy_bearing_cos
